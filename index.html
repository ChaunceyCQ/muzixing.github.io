<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="utf-8">
    <title>Code the world</title>
    <meta name="description" content="">
    <meta name="author" content="muzi">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
    <script src="./theme/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="./theme/bootstrap.min.css" rel="stylesheet">
    <link href="./theme/bootstrap.min.responsive.css" rel="stylesheet">
    <link href="./theme/local.css" rel="stylesheet">
    <link href="./theme/pygments.css" rel="stylesheet">

</head>

<body>

<div class="navbar">
    <div class="navbar-inner">
    <div class="container">

         <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
             <span class="icon-bar"></span>
             <span class="icon-bar"></span>
             <span class="icon-bar"></span>
         </a>

        <a class="brand" href=".">Code the world</a>

        <div class="nav-collapse">

        <ul class="nav">
            
            <li><a href="./pages/about-me.html">About me</a></li>
        </ul>
	<form class="navbar-search pull-right" action="/search.html">
    	<input type="text" class="search-query" placeholder="Search" name="q" id="s">
</form>

        </div>
        
    </div>
    </div>
</div>

<div class="container">
    <div class="content">
    <div class="row">

        <div class="span9">
        

        


    <div class='article'>
        <div class="content-title">
            <a href="./pages/2014/03/26/poxmessenger-component-getting-started.html"><h1>[POX]messenger component getting started</h1></a>
2014-03-26

by <a class="url fn" href="./author/muzi.html">muzi</a>
 


 
        </div>
        
        <div><h3>关于messenger getting started的来历</h3>
<p>在POX中，Murphy专门开发了一个叫messenger的模块，用于实现POX与其他程序的通信。我曾有一个想法想实现分布式的POX。于是我在整个Internet上面寻找了好久，依然没有找到什么有用的东西！很忧伤！自己看代码也没有看明白怎么用！后来直接去Stanford的网站上面问Murphy！在我再三脑残的追问之下，终于他觉得应该写一个Getting started了。于是就在POX+wiki上面添加了Messenger的Getting started.</p>
<h3>Messenger 的作用</h3>
<p>从以下的英文中，我们可以对Messenger有一定的了解。messenger是一个API,是用与POX与其他程序建立连接的API,通过他实现的有PoxDesk,也就是POX的web ui。</p>
<p>The messenger component provides an interface for POX to interact with external processes via bidirectional JSON-based messages.  The messenger by itself is really just an API, actual communication is implemented by transports.  Currently, transports exist for TCP sockets and for HTTP.  Actual functionality is implemented by services.  POX comes with a few services.  messenger.log_service allows for interacting with the log remotely (reading it, reconfiguring it, etc.).  openflow.of_service allows for some OpenFlow operations (e.g., listing switches, setting flow entries, etc.).  There are also a few small example services in the messenger package, and pox-log.py (in the tools directory) is a small, standalone, external Python application which interfaces with the the logging service over TCP.
By writing a new service, it becomes available over any transport.  Similarly, writing a new transport allows for accessing any service in a new way.
The messenger package in the repository has a fair amount of comments.  Additionally, you can see POXDesk (mentioned elsewhere) as an example of both implementing a new service, and communicating with messenger over HTTP from JavaScript. </p>
<h3>加载messenger模块</h3>
<p>我们在以下的代码中在运行的POX的时候加载了Messenger组件。同时，我们也把tcp_transport作为组件加载进来，最后我们运行Messenger组件。这个example启动了一个服务端线程，监听本机的7790端口。</p>
<div class="highlight"><pre><span class="p">[</span><span class="n">pox_dart</span><span class="p">]</span><span class="nv">$</span> <span class="err">./</span><span class="nv">pox</span><span class="o">.</span><span class="n">py</span> <span class="nb">log</span><span class="o">.</span><span class="n">level</span> <span class="o">--</span><span class="n">DEBUG</span> <span class="n">messenger</span> <span class="n">messenger</span><span class="o">.</span><span class="n">tcp_transport</span> <span class="n">messenger</span><span class="o">.</span><span class="n">example</span>
<span class="n">POX</span> <span class="mf">0.3.0</span> <span class="p">(</span><span class="n">dart</span><span class="p">)</span> <span class="o">/</span> <span class="n">Copyright</span> <span class="mi">2011</span><span class="o">-</span><span class="mi">2014</span> <span class="n">James</span> <span class="n">McCauley</span><span class="p">,</span> <span class="n">et</span> <span class="n">al</span><span class="o">.</span>
<span class="n">DEBUG:boot:Not</span> <span class="n">launching</span> <span class="n">of_01</span>
<span class="n">DEBUG:core:POX</span> <span class="mf">0.3.0</span> <span class="p">(</span><span class="n">dart</span><span class="p">)</span> <span class="n">going</span> <span class="n">up</span><span class="o">...</span>
<span class="n">DEBUG:core:Running</span> <span class="n">on</span> <span class="n">CPython</span> <span class="p">(</span><span class="mf">2.7.5</span><span class="o">/</span><span class="n">Sep</span> <span class="mi">12</span> <span class="mi">2013</span> <span class="mi">21</span><span class="p">:</span><span class="mi">33</span><span class="p">:</span><span class="mi">34</span><span class="p">)</span>
<span class="n">DEBUG:messenger</span><span class="o">.</span><span class="n">tcp_transport:Listening</span> <span class="n">on</span> <span class="mf">0.0.0.0</span><span class="p">:</span><span class="mi">7790</span>
<span class="n">DEBUG:core:Platform</span> <span class="n">is</span> <span class="n">Darwin</span><span class="o">-</span><span class="mf">13.1.0</span><span class="o">-</span><span class="n">x86_64</span><span class="o">-</span><span class="n">i386</span><span class="o">-</span><span class="mi">64</span><span class="n">bit</span>
<span class="n">INFO:core:POX</span> <span class="mf">0.3.0</span> <span class="p">(</span><span class="n">dart</span><span class="p">)</span> <span class="n">is</span> <span class="n">up</span><span class="o">.</span>
</pre></div>


<p>然后我们开启另一个终端，然后进入到POX的messenger目录之下，运行test_client文件</p>
<div class="highlight"><pre><span class="n">python</span> <span class="n">test_client</span><span class="o">.</span><span class="n">py</span>
</pre></div>


<p>之后，我们在test_client的输入框之下，输入：</p>
<div class="highlight"><pre><span class="p">{</span><span class="s">&quot;CHANNEL&quot;</span><span class="p">:</span><span class="s">&quot;upper&quot;</span><span class="p">,</span><span class="s">&quot;msg&quot;</span><span class="p">:</span><span class="s">&quot;hello world&quot;</span><span class="p">}</span>
</pre></div>


<p>马上就会收到pox返回的信息：</p>
<div class="highlight"><pre><span class="n">Recv:</span> <span class="p">{</span>
    <span class="s">&quot;count&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s">&quot;msg&quot;</span><span class="p">:</span> <span class="s">&quot;HELLO WORLD&quot;</span><span class="p">,</span>
    <span class="s">&quot;CHANNEL&quot;</span><span class="p">:</span> <span class="s">&quot;upper&quot;</span>
<span class="p">}</span>
</pre></div>


<p>当然，这个前提是在test_client的主函数中的IP+Port都设置正确的情况下才会产生，即test_client中开启了一个半连接socket，做为客户端去connect server TCP.</p>
<h3>小提示</h3>
<p>如果想让POX运行CLI，你需要在运行POX的时候加上 py ,例如：</p>
<div class="highlight"><pre><span class="n">python</span> <span class="n">pox</span><span class="o">.</span><span class="n">py</span> <span class="n">py</span>
</pre></div>


<p>这就会出现CLI。同时如果想让显示漂亮，可以加上samples.pretty_log。</p>
<h3>后语</h3>
<p>更多的尝试我没有继续，因为实在是看不懂这个POX的代码逻辑。最后选择自己去开启一个线程，直接简历socket连接。但是这些连接需要设计一些逻辑，可能工作量还是有一些的。但是不是特别多。如果你对这个感兴趣，你可以尝试。如果你知道更好的方法，你可以给我留言哦！我非常喜欢有人和我交流，一个人做这个很郁闷！</p>
<p>如有问题，请留言。</p>
<p>更多POX相关解答：https://openflow.stanford.edu/display/ONL/POX+Wiki</p></div>
        <hr />
    </div>
		

 
        

 

    <div class='article'>
        <a href="./pages/2014/03/25/mininetyu-wai-bu-hosttong-xin.html"><h2>mininet与外部host通信</h2></a>
        <div class= "well small"> 2014-03-25

by <a class="url fn" href="./author/muzi.html">muzi</a>
 


 </div>
        <div class="summary"><h3>前言</h3>
<p>好多同学都在尝试使用mininet搭建拓扑。有的同学在尝试如何让mininet与外网通信，比如虚拟机，比如mininet之外的另一个网络。问题已经存在很久，本文将介绍如何使用mininet的接口实现与外界通信。</p>
<h3>Intf()接口</h3>
<p>在mininet的源码中，我们可以找到一个link的文件，也是一个类。这个文件中有一个接口类Intf()</p>
<div class="highlight"><pre><span class="n">class</span> <span class="n">Intf</span><span class="p">(</span> <span class="n">object</span> <span class="p">):</span>

    <span class="s">&quot;Basic interface object that can configure itself.&quot;</span>

    <span class="n">def</span> <span class="n">__init__</span><span class="p">(</span> <span class="n">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">node</span><span class="o">=</span><span class="n">None</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="n">None</span><span class="p">,</span> <span class="nb">link</span><span class="o">=</span><span class="n">None</span><span class="p">,</span> <span class="o">**</span><span class="n">params</span> <span class="p">):</span>
</pre></div>


<p>使用这个接口类，可以把安装mininet的机器的网卡接到mininet的ovs之上。</p>
<p>剩下的就简单了。最重要的接口解决之后一切就都解决了。</p>
<p>如果需要例子，可以在本站查看：mininet搭建自定义拓扑</p>
<p>另，也可以查看mininet中的hwintf文件。</p>
<p>希望能对你有帮助。</p> <a class="btn btn-info xsmall" href="./pages/2014/03/25/mininetyu-wai-bu-hosttong-xin.html">read more</a></div>
    </div>	
				

 
        

 

    <div class='article'>
        <a href="./pages/2014/03/25/zhuan-linuxchang-yong-ming-ling.html"><h2>【转】linux常用命令</h2></a>
        <div class= "well small"> 2014-03-25

by <a class="url fn" href="./author/muzi.html">muzi</a>
 


 </div>
        <div class="summary"><h3>前言</h3>
<p>我为我没有系统的学习linux而感到后悔！一定好好时间一遍鸟哥的linux私房菜，但是一些linux常用命令，记下也好！google之后，搜到一篇不错的文章，特此转载，保留个人使用。原文地址：http://www.php100.com/html/webkaifa/Linux/2009/1106/3485.html</p>
<h3>linux常用命令</h3>
<p><strong>系统信息</strong></p>
<p>arch 显示机器的处理器架构(1) </p>
<p>uname -m 显示机器的处理器架构(2) </p>
<p>uname -r 显示正在使用的内核版本 </p>
<p>dmidecode -q 显示硬件系统部件 - (SMBIOS / DMI) </p>
<p>hdparm -i /dev/hda 罗列一个磁盘的架构特性 </p>
<p>hdparm -tT /dev/sda 在磁盘上执行测试性读取操作 </p>
<p>cat /proc ...</p> <a class="btn btn-info xsmall" href="./pages/2014/03/25/zhuan-linuxchang-yong-ming-ling.html">read more</a></div>
    </div>	
				

 
        

 

    <div class='article'>
        <a href="./pages/2014/03/21/markdowntian-jia-shi-pin-jiao-cheng-idina-menzehe-caleb-hylesji-qing-dui-chang-let-it-go.html"><h2>markdown添加视频教程：Idina Menze和Caleb Hyles激情对唱Let It Go</h2></a>
        <div class= "well small"> 2014-03-21

by <a class="url fn" href="./author/muzi.html">muzi</a>
 


 </div>
        <div class="summary"><p>首先，在markdown中写好标题，如：这个网站还不错。然后冒号：然后添加视频的地址等信息就好了。</p>
<p>格式如下：</p>
<div class="highlight"><pre>    Idina Menze和Caleb Hyles激情对唱Let It Go：<span class="nt">&lt;iframe</span> <span class="na">height=</span><span class="s">498</span> <span class="na">width=</span><span class="s">510</span> <span class="na">src=</span><span class="s">&quot;http://player.youku.com/embed/XNjcyMDU4Njg0&quot;</span> <span class="na">frameborder=</span><span class="s">0</span> <span class="err">allowfullscreen</span><span class="nt">&gt;&lt;/iframe&gt;</span>
</pre></div>


<p>这样就可以添加成功了。</p>
<p>冒号后面的信息请在相关视频的分享键附近寻找把视频分享给朋友的地址，然后选择通用地址复制，格式上面已经有给出。</p>
<p>然后就可以了！简单吧！我可是偷偷看别人的github源码才学会的！</p>
<p>视频附上：</p>
<p>Menze和Caleb Hyles激情对唱Let It Go:</p>
<iframe height=498 width=510 src="http://player.youku.com/embed/XNjcyMDU4Njg0" frameborder=0 allowfullscreen></iframe>

<p>非常赞的一个视频！学习如何使用MARKDOWN添加视频的成果咯！</p> <a class="btn btn-info xsmall" href="./pages/2014/03/21/markdowntian-jia-shi-pin-jiao-cheng-idina-menzehe-caleb-hylesji-qing-dui-chang-let-it-go.html">read more</a></div>
    </div>	
				

 
        

 

    <div class='article'>
        <a href="./pages/2014/03/13/sdnshi-xian-httpwang-luo-jia-su-shi-yan.html"><h2>SDN实现HTTP网络加速实验</h2></a>
        <div class= "well small"> 2014-03-13

by <a class="url fn" href="./author/muzi.html">muzi</a>
 


 </div>
        <div class="summary"><h3>由于篇幅太长，且这个实验室是很久以前，我和我的小伙伴们一起做的课设，没有时间进行排版书写。</h3>
<p>附上链接：</p>
<p>http://user.qzone.qq.com/350959853/blog/1394681174</p>
<p>北邮学弟学妹做这个课设的可以联系628中某学长。</p> <a class="btn btn-info xsmall" href="./pages/2014/03/13/sdnshi-xian-httpwang-luo-jia-su-shi-yan.html">read more</a></div>
    </div>	
				
<div class="pagination">
<ul>
    <li class="prev disabled"><a href="#">&larr; Previous</a></li>

    <li class="active"><a href="./index.html">1</a></li>
    <li class=""><a href="./index2.html">2</a></li>
    <li class=""><a href="./index3.html">3</a></li>
    <li class=""><a href="./index4.html">4</a></li>

    <li class="next"><a href="./index2.html">Next &rarr;</a></li>

</ul>
</div>
 
  
        </div>
        
        <div class="span3">

            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Site
                </li>
            
                <li><a href="./archives.html">Archives</a>
                <li><a href="./tags.html">Tags</a>
                <li><a href="http://muzixing.github.io/" rel="alternate">Atom feed</a></li>
            </ul>
            </div>


            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Categories
                </li>
                
                <li><a href="./category/life.html">Life</a></li>
                <li><a href="./category/tech.html">Tech</a></li>
                   
            </ul>
            </div>


            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Links
                </li>
            
                <li><a href="http://getpelican.com/">Pelican</a></li>
                <li><a href="http://python.org/">Python.org</a></li>
                <li><a href="http://jinja.pocoo.org/">Jinja2</a></li>
            </ul>
            </div>


            <div class="social">
            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Social
                </li>
           
                <li><a href="https://github.com/muzixing">github</a></li>
                <li><a href="http://350959853.qzone.qq.com">qzone</a></li>
            </ul>
            </div>
            </div>

        </div>  
    </div>     </div> 
<footer>
<br />
<p><a href=".">Code the world</a> &copy; muzi 2012</p>
</footer>

</div> <!-- /container -->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script src="http://twitter.github.com/bootstrap/assets/js/bootstrap-collapse.js"></script>
<script>var _gaq=[['_setAccount','UA-45955656-1'],['_trackPageview']];(function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];g.src='//www.google-analytics.com/ga.js';s.parentNode.insertBefore(g,s)}(document,'script'))</script>
 
</body>
</html>