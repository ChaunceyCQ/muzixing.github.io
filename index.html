<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="utf-8">
    <title>Milestone</title>
    <meta name="description" content="">
    <meta name="author" content="muzi">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
    <script src="./theme/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="./theme/bootstrap.min.css" rel="stylesheet">
    <link href="./theme/bootstrap.min.responsive.css" rel="stylesheet">
    <link href="./theme/local.css" rel="stylesheet">
    <link href="./theme/pygments.css" rel="stylesheet">

</head>

<body>

<div class="navbar">
    <div class="navbar-inner">
    <div class="container">

         <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
             <span class="icon-bar"></span>
             <span class="icon-bar"></span>
             <span class="icon-bar"></span>
         </a>

        <a class="brand" href=".">Milestone</a>

        <div class="nav-collapse">

        <ul class="nav">
            
            <li><a href="./pages/about-me.html">About me</a></li>
        </ul>
	<form class="navbar-search pull-right" action="/search.html">
    	<input type="text" class="search-query" placeholder="Search" name="q" id="s">
</form>

        </div>
        
    </div>
    </div>
</div>

<div class="container">
    <div class="content">
    <div class="row">

        <div class="span9">
        

        


    <div class='article'>
        <div class="content-title">
            <a href="./pages/2016/04/18/wo-shi-ge-sdnkong-zhi-qi.html"><h1>我是一个SDN控制器</h1></a>
2016-04-18

by <a class="url fn" href="./author/muzi.html">muzi</a>
 


 
        </div>
        
        <div><p>“醒醒！”， 朦胧中有一个人叫醒了我。“跟我走”，那个身穿linux制服的胖得像企鹅一样的大叔拉着我就走。“你谁啊？去哪里?”我惊恐的问。“我是操作系统，我负责给你安排工作。你是一个SDN控制器，是Ryu族人，就给你分配代号9527吧，凭着这代号你可以得到很多资源，从而帮助你完成工作。”那大叔显得有些不耐烦地回答。</p>
<p>“看到没有，前面办公楼里的6633房间就是你的办公室，你的工作就是处理信件和包裹，会有门房大爷给你收发信件，你记得找他取信就可以了，过期他会丢掉的。”操作系统大叔边走边说，一转眼已经到了门口。门房果然有一个大爷，那包裹已经堆积如山了，胸口上沾了好多灰尘的工作证都来不及擦拭，不过隐隐约约还是可以看出上面写着“网卡”两个字。</p>
<p>“哦，谢谢大哥。” 我突然反应过来，加快脚步跟上操作系统的步伐。但我依然不知道我来这里是做什么的，周围都好陌生。对未知未来的迷茫与彷徨，让我忍不住问操作系统大哥，“操作系统大哥，我来这里干什么啊？”  “你这么叫不累？叫我linux就好了。你是新来的员工，做什么你可以看看你胸前的说明书”。</p>
<p>我低头一看，我的天啊，我贴着这么大的说明书走过来三条街，还和5个美女打了招呼，我以为他们觉得我帅才对我笑，太丢人了！我拿下说明书才发现上面赫然写着“README”， 我的天啊，怪不得那个小孩满脸堆笑地跟着我念着一些什么SDN的话，我还觉得这孩子是不是脑子发育不太好。羞愧之余，我慢慢往下读。</p>
<p>原来我被任命为因特奈特国的金银岛的快递主管。因特奈特国很贫穷，民众普遍文化水平都不高，识字的人不多。为了实现远距离的通信和物流，快递业务急需文化水平高的员工，然而培养一个识字的快递员成本很大。在上岗之前，学员们都需要到培训机构里面培训。不同培训机构培训的技能不一样，所以收费自然也不一样。在这些培训学院中，思科技术学院和华为技术学院等学院比较出名。</p>
<p>培训机构的培训项目也十分丰富，有数据链路层语言的学习，也有网络层语言的学习。但是学习语言是需要看天赋的，有的人智商高一些，比如CPU更强大，能理解和运用三层甚至更高层级语言的语法，就能拿到更高的文凭，能找到更好的工作，赚更高的工资。而且聪明的人办事效率也更高，所以那些懂高级语言的学生毕业之后都在拥有大量物流的关键的节点上工作。而那些拿到普通二层语言文凭的快递员，也就勉勉强强能在村里当一个邮递员，业务能力也就勉强能接受吧。</p>
<p>培训学院教授的课程很有学院的特色，有时不同机构对同一件货物的处理流程差得很远，所以不同机构的快递员之间很难合作。但是为了实现物流的传输，合作是不可避免的。所以他们每年都要挑选几个学习能力不错的学生去其他学院的学生交流学习。</p>
<p>不同培训机构之间竞争很激烈，为了占得先机，培训机构都想推广自己的解决方案，尤其是像思科这样的王牌培训技术学院。但这就导致了快递员学习的东西越来越多，越来越复杂。有时为了和其他学院毕业生合作，还要多学好几套技能，所以学费收的比较贵。不过掌握多项技能的毕业生，找工作时就能拿到跟好的工资。但对于快递公司而言，人力成本就水涨船高了。</p>
<p>此外，课程的不统一也导致招生的困难。如果只从某技术学院定向招生，在招新员工的时候就被绑定了，很难选择其他技术学院的同学。被绑定的结果可能就会被垄断，就变成劳动力市场，抬高了快递公司的招新成本和工资成本，也就是平时说的资本性支出（CAPEX）和运营成本（OPEX）。如果所有培训机构的课程都一样，毕业学生的技能一样，或者他们能快速接受入职培训重新学习就好了。</p>
<p>而且，过去快递公司的体制不好，快递员学员们都各自为战，只负责自己片区的业务交付，并不清楚整体的物流情况。所有就有可能出现这样的情况：发货地点和收货地点之间有多条物流通道，但是有的拥挤不堪，处理不过来的包裹不断被丢弃，但有的通道却门可罗雀，快递员都在岗位上打盹，导致整体资源的利用率很低。而且随着因特奈特国推行改革开放，经济快速发展，信息和物资开始大量流通，对快递系统提出了更高的要求。</p>
<p>后来遥远的西方传来了“深度改革”的呼声，他们创建了一个快递公司，而且聘请了一个特别聪明的人担任快递业务主管。那里的快递员们都统一了学习标准，他们只需要能识字就可以了，可以分辨货物上是什么信息就可以。遇到不懂处理的货物时，只需按照之前快递主管发的语法书规则把问题提交给快递主管，快递主管就会利用他聪明才智告诉快递员怎么处理。有时候主管只让快递员把货物发到某个出口，但有时候还需要告诉他这类型的货物应该怎么处理，免得类似的数据包都问一遍。西方的快递主管都是牛仔，很忙的。</p>
<p>再后来，因特奈特国金银岛也开始改革，也尝试着进行改革，我就成了第一任快递主管。</p>
<p>“你不识字?读这么久？”操作系统大哥一脸鄙视地看了我一眼，“进去吧，赶紧开始工作，不然我就把房间给你没收了，送你去垃圾场处理掉你。”听到这个，吓得我赶忙跑进了6633房间，关上房门。</p>
<p>“领导好！”我刚进去，门又打开了，进来了几个员工模样的人。“我们是帮你完成工作的协程”一个工人模样的人一脸憨厚地看着我，然后又继续介绍：“我是帮您取快递的小曲，她是帮您处理二层包裹的阿楚，他是帮您检查包裹安全的大健。”小曲还好，长相正常，3分吧。阿楚倒是还挺可爱的，但拿着盾和大宝剑的大健实在让气氛有些尴尬。我赶紧看一下桌子上的工作手册，原来他们是新招来处理任务的协程人员，而在某些快递公司，他们可能是线程。</p>
<p>“那开始干活吧。”我假装经常当领导的样子，不动声色地抛下一句，然后拿起工作手册独自读了起来，深藏功与名。</p>
<p>小曲的工作比较简单，他一直在检查房门口有没有包裹。突然，他兴高采烈地抱进来一堆信件，放在我桌子上之后很兴奋地说：“还有其他信，您等着。”</p>
<p>我赶紧开始查看信件，原来都是一些hello信件，看来我们的快递员开始上岗工作了。Hello信的内容很简单，无非就是和我商量一些要采用那个版本的语法进行通信。我给他们发了Hello回信，然后再写了一封要求他们发简历的Feature_request信，作为一名领导，了解员工能力是很有必要的。</p>
<p>突然小曲又进来了，是新来的信。我一看这次的信有点厚，原来是快递员们的简历回信Features_reply，这些信告诉我他们都会些什么技能，好让我能够指挥他们完成业务工作。我查了一下工作手册，并没有什么要特殊设置的，就按照标准的流程，给他们回复了标准的配置信。</p>
<p>一转眼，小曲又大汗淋淋地把一个大包裹搬了进来。我赶紧打开查看，原来这是一个Packet_in包裹。“阿楚，赶紧处理一下。”我冲一直在边上无聊抠脚的阿楚喊，没想到阿楚竟然是抠脚女汉子。</p>
<p>阿楚熟练地把包裹打开，把上面的信息记录到了本子上，比如这个包裹是那个快递员送过来，从他的哪一个快递窗口进来的，还有这个包裹里具体的内容。阿楚也是上过小学的人，所以在培训学校里学会了二层的语言，她是这里唯一的实习生。</p>
<p>“我不知道这个怎么处理，没有见过这种包裹，所以我的小本本上没有记录，就让他给所有出口都发一份吧，也许别人知道怎么处理。”阿楚面露难色地告诉我。</p>
<p>我当时内心是崩溃的。“就这样吧。”我无奈地答应。转眼之间，小曲接过包裹已经送出去了。没想到的是，很快的，其他快递员收到了这个包裹，都请求我，然而阿楚依然不知道怎么办。</p>
<p>很快的，阿楚的小本本上面就记录了很多记录，我仔细一看，小姑娘还挺聪明，还学会数据结构了。她画了个表格，每条数据项有三列数据：快递员的工作证号：dpid，从哪一个快递窗口送到快递员手里的和包裹的主人名称。</p>
<p>“咦，这个包裹我知道怎么处理耶！！”阿楚兴奋地跳了起来，面色潮红。根据之前的记录，阿楚知道寄给这个“66：66：66：66：66：66”的人的包裹是应该要从快递窗口3发送出去的，她赶忙写了一封Flow_mod挂号信，信里告诉快递员关于这个特别6的客户的包裹都往3端口发。写完之后，她赶紧把信交给了小曲发送了。</p>
<p>“啊，糟了！我忘记给他发一个Packet_out了！Packet_in消息里有提到buffer_id是NO_BUFFER的。”阿楚还没有坐稳突然就想起了这件事。她赶紧写了一封Packet_out信，里面提到了要把Packet_in中的包裹发到3端口，然后把信贴到包裹上，又交给了小曲。</p>
<p>工作就这么有条不紊地进行着，大家都在忙着自己的事情。每次包裹到的时候，大健也会看一眼是不是给自己的。但是一般都没他啥事，他总是恶狠狠地盯着盾上记录的坏人的名字和处理规则，一脸苦大仇深的样子。无聊地时候，大健很喜欢在空中比划着什么。听阿楚提起过大健好像是情意绵绵剑的传人，只是一直加班，没时间找女朋友，所以一直没办法练剑。</p>
<p>“终于等到你！还好我没放弃！”大健突如其来的吼叫把大家都吓到了！原来大健收到了程序员上帝写给他的一封规则信，信里面提到：“IP=194.71.107.81的包裹全部丢掉”。大健面露杀气地举起手中的大宝剑，在盾上深深地刻下了这行规则。然后他赶紧写了几封Flow_mod信，把这个丢包规则发送给那些相关的快递员。作为一名安检员，大健始终保持着警惕，保护着金银岛的物流安全。</p>
<p>工作的日子总是单调的，大家都机械地处理着手上的业务。阿楚还是那么萌，大健还是疾恶如仇，而小曲还是像流行歌曲的高潮部分，在门口和办公室之间不断地周期往返。有时候阿楚的本子写满了，我还需要像操作系统大哥申请多几本本子。</p>
<p>平凡的生活终于被打破，犹如平静的贝加尔湖面丢进了一个石头。原因是新招的一个快递员的传送路线和其他快递员的传递路线形成了环路。那一天，乌云密布，雷雨交加。傻傻的快递员收到了一个新用户的包裹，他查半天规则手册都不知道怎么处理新用户的包裹，只能请求我。我让阿楚处理，结果她按照自学习那一套，让大家泛洪发送，结果就产生了广播风暴。</p>
<p>那是黑暗的一天，我记得是星期五，我目睹了5起交通事故，6起碰瓷，但都没有广播风暴带来的结果严重。太惨了！所有环路上的快递员都活活累死了！在快递行业中，丢个包已经是工作事故，而累死N名员工这种事情，已经不能算事故，它是灾难！</p>
<p>因为这件事，差一点我们快递部门就倒闭了。还好问题发现得及时，赶紧切断了快递业务路线。处理完后事之后，公司开始追究责任。可怜的阿楚，到离开都不知道为什么会把快递员活活累死，毕竟她只上过小学，只知道自学习转发，并不了解这个做法在环路中可能产生致命的环路风暴攻击。</p>
<p>阿楚离开后的第二天，快递系统还没有恢复运作，办公室堆积着好多事没人处理，我感觉好烦躁。</p>
<p>突然linux出现在我面前，还带着一个漂亮的姑娘。</p>
<p>“9527, 程序员托我给你带新人来了”。原来程序员上帝发现这个惨案之后，很快就把这个姑娘送到了操作系统大哥的办公室，然后交代他要把这姑娘带到我这来。</p>
<p>“谢谢linux。那个，你自我介绍一下吧。”我谢过操作系统大哥之后，转头问这个很有御姐范儿的姑娘。</p>
<p>“Ryu领导好, 我叫露露，我读过本科，专业是大数据分析，后来去思科学院学习了快递技术。我会收集快递员的连接信息，然后做数据分析，可以计算出最短路径来转发或者路由快递包裹，绝对不会累死人！” 露露语速很快，很自信，是我喜欢的类型。</p>
<p>“啊，小露露啊，你好厉害啊！听你这么一说我就放心了。快上班吧，不然你没响应要被带回去了。”我满脸堆笑地对露露说。来了一个聪明又漂亮的员工真是太开心了，比那个小学生不知道高到哪里去了。</p>
<p>露露果然犀利！上班之后就周期给快递员们发送携带LLDP报文的Packet_in包裹，包裹要求快递员要把自己的dpid和出货端口写上，然后抓发到对应出端口。收到包裹的下一站快递员一看不知道怎么处理就上报给我了。露露利用上报包裹外面的Packet_in信的快递员的ID号和收货端口还有包裹中的信息，竟然找到了两个快递员之间的链路信息。然后她把所有的链路组织起来，竟然把全局的物流图给画出来了。我不由心里一惊：小露露不仅长得漂亮，还很能干呢。哦不！我怎么能这么想呢！应该是没想到啊，小露露不仅能干，还长得这么漂亮呢！</p>
<p>正在我神游的时候，小曲不识趣地打开门，扯起嗓子就来一句：“露露妹妹，你的包裹。”小子放下包裹的时候比平时多停留了3ms，我注意到了！他比平时干活更有精神，但是也在露露这里停留时间更久了。</p>
<p>看我一脸不高兴，小曲赶紧忙去了。</p>
<p>露露很熟练地解开包裹，然后提取出里面的关键信息。“是从绿茂花园的王大爷家到大柳树村老刘婶的包裹。绿茂花园到大柳树村需要先经过春天镇，然后去金鸡岭，再去五指山，然后转到天涯镇最后到大柳树村。”露露照着手中的Dijkstra书和物流图，竟然把快递转发路径给计算出来了。</p>
<p>“干得好，露露，午饭加一个鸡腿！”我已经不知道说什么，怕说多了她知道我读书少，容易被她骗了。</p>
<p>有露露的日子，我心情一直都很好，因为再也没有发生死亡灾难。但是比起当年的阿楚，露露用纸的速度更快一些，所以我向操作系统大哥申请了更多的纸。每次申请纸都要承受linux鄙夷的眼神和拍肩膀安慰的动作，好生奇怪。</p>
<p>但是就算有最短路径转发，我还是发现快递员的工作强度差异太大。有的快递员无所事事，而其他快递员加班加点。明明有的快递员可以帮忙的，但是货物总是到不了他那里。我仔细观察了一下，终于发现了问题。露露计算的路径虽然是最短的，但是当所有货物都按照最短的路径发货的话，可能就拥堵了，而另一条次优的路径并没有使用到。所以我应该还需要了解物流的压力情况。怎么才能了解呢？</p>
<p>正在我百思不得其解的时候，年度优秀快递员张伟终于病倒了，频繁丢包，他那个快递收发点的货物已经堆积如山。我很着急，但是我查看了所有的手册都没有解决办法。所以我只能发出一个警告，没想到程序员很快就给了回复。</p>
<p>程序员又安排操作系统大哥给我带来了新员工。他叫夏留，听名字估计是父母喜欢夏天的原因吧，希望夏天能停留下来，也是一种美好的希冀。</p>
<p>“我学过数据挖掘，但是没找到工作，也学不会挖掘机，所以就去学快递技术了”。还记得他站在大家面前自豪地自我介绍。我对他毫无理由的没有好感，也许是因为他比较帅吧。</p>
<p>他和露露一样聪明，他专门整理快递网中的物流流量信息，然后和露露合作。露露其实也去学习进修了一下，学会了计算基于物流流量信息的最优货物转发路径。这下快递员们的负载才得到了均衡，才少了许多抱怨。</p>
<p>但是我总觉得夏留和露露整天黏在一起不太好，年轻人在办公室要克制嘛。递个数据什么的麻利点嘛，干嘛还要对视，寒暄几句，搞不懂。</p>
<p>每天的工作都大同小异，因为新流量不多，所以其实我们办公室的人都不是特别忙，就是夏留需要不断收取一些快递员送上来的快递收发货统计报表，露露也周期地和所有的快递员联系着，集智慧和颜值一身的她是所有快递员的梦中情人。</p>
<p>遇到节假日的时候，大家就忙得不可开交了，我也差点就忙出病来。这时候我就会特别羡慕临省新上任的那些人。那个ODL家族的人声势最浩大，赞助商特别多。不过确实他学的东西也比我多一点，部门员工也多一些，不过他用的资源也多啊，很费纸。不仅如此，最近东边邻居也兴起了深度改革，走马上任的听说叫ONOS。ONOS比我们要先进一点，他们是多胞胎共同作战，不像我Ryu族人还在孤军作战。ONOS他们家有好多孪生兄弟姐妹，一起管理他们省的快递物流，资源和信息都共享，但是每个人分别只负责区域的管理，只和几个快递员联系。如果其中一个兄弟生病了，可以把他的业务交给其他兄弟暂时代理帮忙一下，他病好了再回来接着干。这样就不用担心快递主管病倒了业务就中断的事了。</p>
<p>不过我听说有个叫Distance的程序员上帝开发了Open eXchange语言，可以架设一个层级式的部门架构。有了这样的语言，我就可以和我的族人一起工作了，不仅如此，Open eXchange也支持不同家族的人一起工作，听起来很酷！等着吧，相信很快就可以改革了，也许其他人的办公室还有欣欣、丽丽之类的姑娘呢。</p>
<p>其实我也并不是一直工作，有时候，还需要去学习培训，进修一下。尤其是当我们需要学习新语言的时候，不仅我们要培训，快递员也全部要培训，这时快递系统就停止运行了。进修的时候，如果年纪大的的快递员学不下去了，干脆就淘汰了。辞退的员工一般饭都吃不上，太惨了。淘汰老人就需要招新来补充人手，也会带来新的成本，所以学习新语言代价非常大，但新业务很多，学习新语言是不可或缺的过程。</p>
<p>不过好消息是我听linux提起过，在遥远的东方和遥远的西方有两个国家分别使用了两种新语言：POF和P4。使用POF或者P4语言，就不要求快递员们学会很多语言，只需要懂最基本的通用语法就可以。比如把数据包发出去或者把快递单中的第几个空格的内容修改成什么就可以，不需要知道那个空格的内容到底是地址还是邮政编码。当需要学习新业务的时候，只需要我们去学习就好，然后我们会告诉快递员最基本的操作，他们照做就行。如此一来，快递员们很高兴啊，本来知道语法书的语义也没什么用，干脆不用学习多轻松。这样一来，快递系统的升级的成本就节省很多。真希望快点采用这样的语言。</p>
<p>我坐在桌子前，一手撑着下巴，一手握着桌子上的杯子，幻想着美好的未来。耳边是露露和夏留的窃窃私语、小曲忙碌而充满怨念的脚步声，还有大健那绵绵不觉的磨剑的声音。一切都自然而和谐。</p>
<p>突然，linux火急火燎地带着几个帮手撞开了我的大门。</p>
<p>“怎么了？大、大哥！”，我吓了一跳，从椅子上唰一下站起来，桌子上的杯子也被我碰掉了，碎了一地。</p>
<p>“把这些人都带走，那个姑娘轻点抓，挺好看的。” linux并没有理会我，指挥小弟们把我的露露，夏留和小曲，还有一直在角落磨剑的大健抓了起来。</p>
<p>“我收到程序员上帝的通知，由于业务整改，你们被停止运行了，资源需要回收，都跟我去垃圾回收站吧。走！” linux露出我从未见过的凶狠眼神。我明白了，我不该对未来充满幻想，我不该有任何怨念。但是我要做完我该做的事， 我转身写在最后一封告别信：“Ryu is going down!”</p>
<p>“交给上帝，告诉他我干得很好。”，我把信交给操作系统，然后摇头，闭上了眼睛。</p>
<p>在去往垃圾回收站黑暗而崎岖的路上，我听到露露拼命的呼喊，她比我先走了，接着是夏留，然后是。。。</p>
<p>“我想我没有做错”， 想到这里，嘴角颤了一下，掠过一丝转瞬即逝的微笑。</p>
<p>黑暗中，我睁开眼睛，仿佛看见了未来。</p>
<h3>作者简介：</h3>
<p>李呈，2014/09-至今，北京邮电大学信息与通信工程学院未来网络理论与应用实验室（FNL实验室）攻读硕士研究生。</p>
<p>个人博客：http://www.muzixing.com</p></div>
        <hr />
    </div>
		

 
        

 

    <div class='article'>
        <a href="./pages/2016/03/27/ren-sheng-de-yi-yi-zuo-zi-ji-qu-bang-zhu-bie-ren-dan-xian-zheng-jiu-zi-ji.html"><h2>人生的意义：做自己，去帮助别人，但先拯救自己</h2></a>
        <div class= "well small"> 2016-03-27

by <a class="url fn" href="./author/muzi.html">muzi</a>
 


 </div>
        <div class="summary"><p>昨晚去北大帮忙大可老师参加北大的风采达人大赛，我又一次来到了北大。每一次来北大，都会觉得没有自信，因为自己没有能力读上北大，深感还需继续努力，这一次也一样。</p>
<p>比赛现场气氛并不激烈，观众也不多，但是这样的场地在北邮几乎是找不到的。我看到了一个漂亮的姑娘在弹钢琴，我被这种气质所吸引。她看到我正看着她，停了下来说：“你要用吗？” 我说：“没有，我就欣赏”。比赛中有惊艳全场的琵琶，也有不错的相声节目，而这些在北邮都看不到。</p>
<p>回到宿舍，我坐在电脑前不知道要做什么好，分明有很多事没有完成，但是感觉突然之间不明白自己要做什么。在习惯的环境中待太久就形成了定性思维，几乎不用思考就在每一天的行走着。有些时候这可以提高做事效率，但有时却让自己陷入定势，无法发生质变。</p>
<p>我想我现在已经被社会编程了。在社会分工更加明确的今天，社会会对个人进行编程让个体满足社会的需求。诚然，大家都需要被编程才能提高整体的效率，但在被编程之外的空间，我还需要去追寻一些我渴望的东西，成为真正想要的自己。</p>
<p>我思考着乱七八糟的内容，让我更加迷乱。烦躁之中，翻开了知乎，却看到了一条私信：“谢谢你跟我聊了许多话，来生再见”。我震惊了。</p>
<p>给我私信的是一个98年的男生，现在在长春某二本财经院校读大一。上一次我回答某些关于自杀的问题的时候，他不支持我的观点 ...</p> <a class="btn btn-info xsmall" href="./pages/2016/03/27/ren-sheng-de-yi-yi-zuo-zi-ji-qu-bang-zhu-bie-ren-dan-xian-zheng-jiu-zi-ji.html">read more</a></div>
    </div>	
				

 
        

 

    <div class='article'>
        <a href="./pages/2016/03/23/p4zhen-zheng-de-sdnhuan-yao-yuan-ma.html"><h2>P4:真正的SDN还遥远吗</h2></a>
        <div class= "well small"> 2016-03-23

by <a class="url fn" href="./author/muzi.html">muzi</a>
 


 </div>
        <div class="summary"><p>OpenFlow协议作为SDN最流行的南向协议，得到了很多的关注，目前发展也良好，但OpenFlow并不完美，OpeFlow交换机还不能提供更好的可编程能力。P4作为新的网络编程语言很好的弥补这个缺陷。P4会改变网络吗？是否能带来具有完全可编程能力的SDN？还是仅仅是学术界的宠儿？本文将介绍协议独立数据包处理编程语言P4，其中包括其简介、原理和发展趋势，希望笔者能带来一些有意思的观点。</p>
<h3>简介</h3>
<p>P4(Programming protocol-independent packet processors)[1]是由Pat Bosshart等人提出来的高级“协议独立数据包处理编程语言”，如OpenFlow一样是一种南向协议，但是其范围要比OpenFlow要大。不仅可以指导数据流进行转发，还可以对交换机等转发设备的数据处理流程进行软件编程定义，是真正意义上的完全SDN。值得注意的是，P4论文作者中还有斯坦福大学的Nick McKeown教授和普林斯顿大学的Jennifer Rexford教授两位业界大牛的名字。Nick教授是SDN的提出者之一，一直是SDN学术领域顶尖的存在；而后者Jennifer教授也发表了4D[2]等诸多重要的SDN相关论文，更提出了网络编程语言Frenetic[3]，同样是业界的先驱。两位教授也是P4组织的主要推动者之一。目前，P4语言作为一种潜在的OpenFlow2.0的发展方向在努力发展。</p>
<h3>原理</h3>
<p>与POF提出的目的类似，P4提出的目的也是为了解决OpenFlow编程能力不足以及其设计本身所带来的可拓展性差的难题。自OpenFlow1.0发布以来，其版本目前已经演进到1 ...</p> <a class="btn btn-info xsmall" href="./pages/2016/03/23/p4zhen-zheng-de-sdnhuan-yao-yuan-ma.html">read more</a></div>
    </div>	
				

 
        

 

    <div class='article'>
        <a href="./pages/2016/03/12/pofgeng-li-xiang-de-sdn.html"><h2>POF:更理想的SDN?</h2></a>
        <div class= "well small"> 2016-03-12

by <a class="url fn" href="./author/muzi.html">muzi</a>
 


 </div>
        <div class="summary"><p>OpenFlow协议实现的SDN目前已经得到了应用和推广，但OpenFlow并不完美，OpeFlow交换机还不能提供更好的可编程能力。POF作为一种新的南向协议，是OpenFlow的未来方向？还是只是一个乌托邦？本文将介绍由华为提出的协议无关转发POF，其中包括其简介、原理、原型和应用场景以及最后的发展趋势，希望能带来一些有意思的想法。</p>
<h3>简介</h3>
<p>POF(Protocol Oblivious Forwarding)[1]是由华为提出的SDN南向协议，是一种SDN实现方式，中文意思为协议无关转发。与OpenFlow相似，在POF定义的架构中分为控制平面的POF控制器和和数据平面POF转发元件(Forwarding Element)。在POF架构中，POF交换机并没有协议的概念，它仅在POF控制器的指导下通过{offset, length}来定位数据、匹配并执行对应的操作，从而完成数据处理。此举使得交换机可以在不关心协议的情况下完成数据的处理，使得在支持新协议时无需对交换机进行升级或购买新设备，仅需通过控制器下发对应流表项即可，大大加快了网络创新的进程。</p>
<h3>原理</h3>
<p>读者可能会有疑问：OpenFlow所实现的SDN目前不是发展挺好的吗，POF相比OpenFlow有什么优点呢？</p>
<p>在OpenFlow1.0版本推出时，普遍被认为只有12个匹配域无法适应多网络场景的需求。但随着OpenFlow版本的推进，发展到OpenFlow1.3版本时已经有了40个匹配域，已经可以支持大部分的协议字段匹配。然而始终还会有更多的协议需要支持，所以这个增长趋势不会停止。不断增多的匹配域 ...</p> <a class="btn btn-info xsmall" href="./pages/2016/03/12/pofgeng-li-xiang-de-sdn.html">read more</a></div>
    </div>	
				

 
        

 

    <div class='article'>
        <a href="./pages/2016/03/03/openflowde-ban-lu-xie-yi-of-config.html"><h2>OpenFlow的伴侣协议：OF-CONFIG</h2></a>
        <div class= "well small"> 2016-03-03

by <a class="url fn" href="./author/muzi.html">muzi</a>
 


 </div>
        <div class="summary"><p>本文将简要介绍OpenFlow协议的伴侣协议即补充协议OF-CONFIG，主要内容包括OF-CONFIG的简介、原理以及发展趋势。希望能让读者对OF-CONFIG有一个初步的认识。</p>
<h3>简介</h3>
<p>在OpenFlow协议的规范中，控制器需要和已配置的交换机进行通信。而交换机在正常工作之前需要对其特性以及资源进行配置才能正常工作。而这些配置超出了OpenFlow协议规范的范围，理应由其他的配置协议来完成。OF-Config（OpenFlow Management and Configuration Protocol）协议就是一种OpenFlow交换机配置协议。OF-CONFIG由ONF于2012年1月提出，目前已经演化到1.2版本。OF-CONFIG协议与OpenFlow协议的关系如图1所示。</p>
<p>作为一种交换机配置协议，OF-CONFIG的主要功能包括配置交换机连接的多个控制器信息、端口和队列等资源的配置以及端口等资源的状态修改等内容。此外，作为一个配置协议，OF-CONFIG也要求链接必须是安全可靠的。为满足实际网络运维要求，OF-CONFIG支持通过配置点对多个交换机进行配置，也支持多个配置点对同一个交换机进行配置。</p>
<p>为了满足OpenFlow版本更新的需求以及协议的可拓展要求，OF-CONFIG采用XML来描述其数据结构。此外，在OF-CONFIG的初始规范中也规定了采用NETCONF协议作为其传输协议。由于OF-Config协议没有和数据交换和路由等模块直接相关，所以相比于对实时性要求高的OpenFlow等南向协议而言，OF-CONFIG协议对实时性要求并不高。</p>
<p><center><img alt="of-config and openflow" src="http://ww1.sinaimg.cn/mw690/7f593341jw1f1f92gb9fij209k09e3yz.jpg" /></center>
<center>图1. OF-CONFIG 与OpenFlow以及OpenFlow Switch之间的关系图</center></p>
<h3>原理</h3>
<p>OF-Config协议主要分为Server和Client两部分，其中Server运行在OpenFlow交换机端，而Client运行在OpenFlow配置点上。本质上，OpenFlow配置点就是一个普通的通信节点，其可以是独立的服务器，也可以是部署了控制器的服务器。通过OpenFlow ...</p> <a class="btn btn-info xsmall" href="./pages/2016/03/03/openflowde-ban-lu-xie-yi-of-config.html">read more</a></div>
    </div>	
				
<div class="pagination">
<ul>
    <li class="prev disabled"><a href="#">&larr; Previous</a></li>

    <li class="active"><a href="./index.html">1</a></li>
    <li class=""><a href="./index2.html">2</a></li>
    <li class=""><a href="./index3.html">3</a></li>
    <li class=""><a href="./index4.html">4</a></li>
    <li class=""><a href="./index5.html">5</a></li>
    <li class=""><a href="./index6.html">6</a></li>
    <li class=""><a href="./index7.html">7</a></li>
    <li class=""><a href="./index8.html">8</a></li>
    <li class=""><a href="./index9.html">9</a></li>
    <li class=""><a href="./index10.html">10</a></li>
    <li class=""><a href="./index11.html">11</a></li>
    <li class=""><a href="./index12.html">12</a></li>
    <li class=""><a href="./index13.html">13</a></li>
    <li class=""><a href="./index14.html">14</a></li>
    <li class=""><a href="./index15.html">15</a></li>

    <li class="next"><a href="./index2.html">Next &rarr;</a></li>

</ul>
</div>
 
  
        </div>
        
        <div class="span3">

            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Site
                </li>
            
                <li><a href="./archives.html">Archives</a>
                <li><a href="./tags.html">Tags</a>
                <!-- <li><a href="http://www.muzixing.com/" rel="alternate">Atom feed</a> -->
		</li>
                <li><a href="http://www.muzixing.com/feeds/all.rss.xml" rel="alternate">RSS feed</a></li>
            </ul>
            </div>


            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Categories
                </li>
                
                <li><a href="./category/life.html">Life</a></li>
                <li><a href="./category/tech.html">Tech</a></li>
                   
            </ul>
            </div>


            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Links
                </li>
            
                <li><a href="http://www.sdnlab.com/">SDNLAB</a></li>
                <li><a href="http://www.sdnap.com/">SDNAP</a></li>
                <li><a href="http://www.richardzhao.me/">Richardzhao</a></li>
                <li><a href="http://ikimi.net/">Kimi Yang</a></li>
                <li><a href="http://milestones.lofter.com/">Milestones</a></li>
            </ul>
            </div>


            <div class="social">
            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Social
                </li>
           
                <li><a href="https://github.com/muzixing">Github</a></li>
                <li><a href="http://weibo.com/u/2136552257">Weibo</a></li>
                <li><a href="http://linkedin.com/profile/view?id=334725834">Linkedin</a></li>
                <li><a href="http://350959853.qzone.qq.com">Qzone</a></li>
            </ul>
            </div>
            </div>

        </div>  
    </div>     </div> 
<footer>
<br />
<p><a href=".">Milestone</a> &copy; muzi 2012</p>
</footer>

</div> <!-- /container -->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script src="http://twitter.github.com/bootstrap/assets/js/bootstrap-collapse.js"></script>
<script>var _gaq=[['_setAccount','UA-45955656-1'],['_trackPageview']];(function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];g.src='//www.google-analytics.com/ga.js';s.parentNode.insertBefore(g,s)}(document,'script'))</script>
 
</body>
</html>